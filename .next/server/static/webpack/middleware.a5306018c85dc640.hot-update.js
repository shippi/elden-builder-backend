"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./middleware.ts":
/*!***********************!*\
  !*** ./middleware.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n\nconst allowedOrigins = [\n    \"http://localhost:3000\"\n];\nconst corsOptions = {\n    \"Access-Control-Allow-Methods\": \"GET, POST, PUT, DELETE, OPTIONS\",\n    \"Access-Control-Allow-Headers\": \"Content-Type, Authorization\"\n};\nfunction middleware(request) {\n    // Check the origin from the request\n    const origin = request.headers.get(\"origin\") ?? \"\";\n    const isAllowedOrigin = allowedOrigins.includes(origin);\n    // Handle preflighted requests\n    const isPreflight = request.method === \"OPTIONS\";\n    if (isPreflight) {\n        const preflightHeaders = {\n            ...isAllowedOrigin && {\n                \"Access-Control-Allow-Origin\": origin\n            },\n            ...corsOptions\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({}, {\n            headers: preflightHeaders\n        });\n    }\n    // Handle simple requests\n    const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n    if (isAllowedOrigin) {\n        response.headers.set(\"Access-Control-Allow-Origin\", origin);\n    }\n    Object.entries(corsOptions).forEach(([key, value])=>{\n        response.headers.set(key, value);\n    });\n    return response;\n}\nconst config = {\n    matcher: \"/api/:path*\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbWlkZGxld2FyZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUQ7QUFFdkQsTUFBTUMsaUJBQWlCO0lBQUM7Q0FBd0I7QUFFaEQsTUFBTUMsY0FBYztJQUNsQixnQ0FBZ0M7SUFDaEMsZ0NBQWdDO0FBQ2xDO0FBRU8sU0FBU0MsV0FBV0MsT0FBb0I7SUFDN0Msb0NBQW9DO0lBQ3BDLE1BQU1DLFNBQVNELFFBQVFFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGFBQWE7SUFDaEQsTUFBTUMsa0JBQWtCUCxlQUFlUSxRQUFRLENBQUNKO0lBRWhELDhCQUE4QjtJQUM5QixNQUFNSyxjQUFjTixRQUFRTyxNQUFNLEtBQUs7SUFFdkMsSUFBSUQsYUFBYTtRQUNmLE1BQU1FLG1CQUFtQjtZQUN2QixHQUFJSixtQkFBbUI7Z0JBQUUsK0JBQStCSDtZQUFPLENBQUM7WUFDaEUsR0FBR0gsV0FBVztRQUNoQjtRQUNBLE9BQU9GLHFEQUFZQSxDQUFDYSxJQUFJLENBQUMsQ0FBQyxHQUFHO1lBQUVQLFNBQVNNO1FBQWlCO0lBQzNEO0lBRUEseUJBQXlCO0lBQ3pCLE1BQU1FLFdBQVdkLHFEQUFZQSxDQUFDZSxJQUFJO0lBRWxDLElBQUlQLGlCQUFpQjtRQUNuQk0sU0FBU1IsT0FBTyxDQUFDVSxHQUFHLENBQUMsK0JBQStCWDtJQUN0RDtJQUVBWSxPQUFPQyxPQUFPLENBQUNoQixhQUFhaUIsT0FBTyxDQUFDLENBQUMsQ0FBQ0MsS0FBS0MsTUFBTTtRQUMvQ1AsU0FBU1IsT0FBTyxDQUFDVSxHQUFHLENBQUNJLEtBQUtDO0lBQzVCO0lBRUEsT0FBT1A7QUFDVDtBQUVPLE1BQU1RLFNBQVM7SUFDcEJDLFNBQVM7QUFDWCxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL21pZGRsZXdhcmUudHM/NDIyZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXHJcbiBcclxuY29uc3QgYWxsb3dlZE9yaWdpbnMgPSBbJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCddXHJcbiBcclxuY29uc3QgY29yc09wdGlvbnMgPSB7XHJcbiAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnOiAnR0VULCBQT1NULCBQVVQsIERFTEVURSwgT1BUSU9OUycsXHJcbiAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnOiAnQ29udGVudC1UeXBlLCBBdXRob3JpemF0aW9uJyxcclxufVxyXG4gXHJcbmV4cG9ydCBmdW5jdGlvbiBtaWRkbGV3YXJlKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgLy8gQ2hlY2sgdGhlIG9yaWdpbiBmcm9tIHRoZSByZXF1ZXN0XHJcbiAgY29uc3Qgb3JpZ2luID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnb3JpZ2luJykgPz8gJydcclxuICBjb25zdCBpc0FsbG93ZWRPcmlnaW4gPSBhbGxvd2VkT3JpZ2lucy5pbmNsdWRlcyhvcmlnaW4pXHJcbiBcclxuICAvLyBIYW5kbGUgcHJlZmxpZ2h0ZWQgcmVxdWVzdHNcclxuICBjb25zdCBpc1ByZWZsaWdodCA9IHJlcXVlc3QubWV0aG9kID09PSAnT1BUSU9OUydcclxuIFxyXG4gIGlmIChpc1ByZWZsaWdodCkge1xyXG4gICAgY29uc3QgcHJlZmxpZ2h0SGVhZGVycyA9IHtcclxuICAgICAgLi4uKGlzQWxsb3dlZE9yaWdpbiAmJiB7ICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nOiBvcmlnaW4gfSksXHJcbiAgICAgIC4uLmNvcnNPcHRpb25zLFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHt9LCB7IGhlYWRlcnM6IHByZWZsaWdodEhlYWRlcnMgfSlcclxuICB9XHJcbiBcclxuICAvLyBIYW5kbGUgc2ltcGxlIHJlcXVlc3RzXHJcbiAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UubmV4dCgpXHJcbiBcclxuICBpZiAoaXNBbGxvd2VkT3JpZ2luKSB7XHJcbiAgICByZXNwb25zZS5oZWFkZXJzLnNldCgnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgb3JpZ2luKVxyXG4gIH1cclxuIFxyXG4gIE9iamVjdC5lbnRyaWVzKGNvcnNPcHRpb25zKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcclxuICAgIHJlc3BvbnNlLmhlYWRlcnMuc2V0KGtleSwgdmFsdWUpXHJcbiAgfSlcclxuIFxyXG4gIHJldHVybiByZXNwb25zZVxyXG59XHJcbiBcclxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcclxuICBtYXRjaGVyOiAnL2FwaS86cGF0aConLFxyXG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImFsbG93ZWRPcmlnaW5zIiwiY29yc09wdGlvbnMiLCJtaWRkbGV3YXJlIiwicmVxdWVzdCIsIm9yaWdpbiIsImhlYWRlcnMiLCJnZXQiLCJpc0FsbG93ZWRPcmlnaW4iLCJpbmNsdWRlcyIsImlzUHJlZmxpZ2h0IiwibWV0aG9kIiwicHJlZmxpZ2h0SGVhZGVycyIsImpzb24iLCJyZXNwb25zZSIsIm5leHQiLCJzZXQiLCJPYmplY3QiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImtleSIsInZhbHVlIiwiY29uZmlnIiwibWF0Y2hlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./middleware.ts\n");

/***/ })

});